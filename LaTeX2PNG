#!/bin/bash

DEFAULTFILE="Template.pdf"
TEXFILE="Template.tex"

while [[ $# -gt 1 ]]; do
    KEY="$1"

    case $KEY in
        -l|--line)
            LINE="$2"
            shift
            ;;
        -b|--border)
            BORDER="$2"
            shift
            ;;
        -g|--background)
            BACKGROUND="$2"
            shift
            ;;
        -d|--displaystyle)
            DISPLAYSTYLE="$2"
            shift
            ;;
        -i|--input)
            INPUTPATH="$2"
            shift
            ;;
        -o|--output)
            OUTPUTPATH="$2"
            shift
            ;;
        --default)
            DEFAULT=YES
            ;;
        *)

            ;;
    esac
    shift
done

if [[ -f $TEXFILE ]]; then
    pdflatex $TEXFILE -o $DEFAULTFILE
else
    echo "The TeX file $TEXFILE does not exist."
fi
if [[ -f $DEFAULTFILE ]]; then
    convert -density 800 Template.pdf -quality 800 -background white -alpha remove Output.png
else
    echo "The PDF file $DEFAULTFILE does not exist."
fi
